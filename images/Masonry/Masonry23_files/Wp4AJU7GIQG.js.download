if (self.CavalryLogger) { CavalryLogger.start_js(["FxzKn"]); }

__d("PagePhotosTabAddPhotosDialogQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d=[{kind:"Literal",name:"first",value:4,type:"Int"}],e={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"PagePhotosTabAddPhotosDialogQuery",id:"1997885386942818",text:null,metadata:{},fragment:{kind:"Fragment",name:"PagePhotosTabAddPhotosDialogQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"FragmentSpread",name:"PagePhotosTabAlbumsViewRelayCompat_page",args:null}]}]},operation:{kind:"Operation",name:"PagePhotosTabAddPhotosDialogQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"viewer_profile_permissions",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"page_albums",storageKey:"page_albums(first:4)",args:d,concreteType:"PageAlbumsConnection",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PageAlbumsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Album",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"can_upload",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"album_cover_photo",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:'image(height:175,sizing:"cover-fill-cropped",width:175)',args:[{kind:"Literal",name:"height",value:175,type:"Int"},{kind:"Literal",name:"sizing",value:"cover-fill-cropped",type:"String"},{kind:"Literal",name:"width",value:175,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},c]},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:"MediaSetMediaConnection",plural:!1,selections:[e]},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"page_albums",args:d,handle:"connection",key:"PagePhotosTabAlbumsView_page_page_albums",filters:null}]}]}}}();e.exports=a}),null);
__d("PagePhotosTabAddPhotosDialog_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"PagePhotosTabAddPhotosDialog_page",type:"Page",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:4}],selections:[a,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"page_albums",storageKey:null,args:[{kind:"Variable",name:"first",variableName:"count",type:"Int"}],concreteType:"PageAlbumsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PageAlbumsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Album",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"can_upload",args:null,storageKey:null},a]}]}]}]}}();e.exports=a}),null);
__d("PagePhotosTabAddPhotosDialog.react",["cx","fbt","ActorURI","DialogExpansion","HTML5FilePicker","LayerFadeOnHide","MediaPageRoute","PagePhotosTabAlbumsView.react","PagePhotosTabAlbumsViewRelayCompat.react","PagesRelayMigrationConfig","PhotosUploaderConst","PhotosUploadWaterfallApplications","PUWApplications","React","ReactDOM","RelayCompat","RelayFBEnvironment","RelayModern","ScrollableArea.react","UploadSession","WaterfallIDGenerator","XAlbumUploadOverlayController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIRadioList.react","XUIText.react","react-relay/classic/container/RelayRootContainer","PagePhotosTabAddPhotosDialogQuery.graphql","PagePhotosTabAddPhotosDialog_page.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;c=b("RelayCompat").createFragmentContainer;b("RelayCompat").graphql;var k=b("RelayModern").QueryRenderer,l=b("XUIRadioList.react").Item,m="create_new_album",n=672,o=6,p=6,q="photos_tab_add_new_photos_session_id",r="use_existing_album";d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={selectedAlbumID:null},this.$1=function(a){this.setState({selectedAlbumID:a})}.bind(this),this.$2=function(a){if(a===m||((a=this.props.page)==null?void 0:(a=a.page_albums)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:a.id)===undefined)this.setState({selectedAlbumID:null});else{this.setState({selectedAlbumID:(a=this.props.page)==null?void 0:(a=a.page_albums)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:a.id})}}.bind(this),b}a.prototype.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this.refs.addPhotosConfirmButtonID);if(a!==null){a=new(b("HTML5FilePicker"))(a,{accept:"image/*",multiple:!0,qn:q});b("UploadSession").addFilePickerToSession(q,a)}};a.prototype.render=function(){__p&&__p();var a,c=this.props.page.id;if(!c)return null;var d=new(b("MediaPageRoute"))({albums_num_each_load_more:o,albums_num_first_load:p,can_upload:!0,show_create_album_grid:!1,on_album_click:this.$1,selecting_album:this.state.selectedAlbumID!==null,show_header:!1,name:this.props.page.name,page_id:c}),e=b("ActorURI").create(b("XAlbumUploadOverlayController").getURIBuilder().setInt("owner_id",c).setInt("album_id",this.state.selectedAlbumID).setString("application",b("PhotosUploadWaterfallApplications").HTML5).setString("xapplication",b("PUWApplications").WEB_HTML5).setString("session_id",q).setString("qn",b("WaterfallIDGenerator").generate()).setString("ref",b("PhotosUploaderConst").REF_PORTFOLIO_PHOTOS).getURI(),c),f=!1;a=(a=this.props.page.page_albums)==null?void 0:a.edges;a&&(f=a.some(function(a){return!a?!1:(a==null?void 0:(a=a.node)==null?void 0:a.can_upload)===!0}));a={count:4,pageID:c};return b("React").createElement(b("XUIDialog.react"),{"aria-labelledby":"Dialog used to add photos to your Page",behaviors:{DialogExpansion:b("DialogExpansion"),LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.props.onToggle,role:"dialog",shown:!0,width:n},b("React").createElement(b("XUIDialogTitle.react"),null,b("React").createElement(b("XUIText.react"),{display:"block",size:"header4",weight:"normal"},h._("Add Photos"))),b("React").createElement(b("XUIDialogBody.react"),{className:"_59lb"},b("React").createElement(b("XUIRadioList.react"),{onValueChange:this.$2,selectedValue:this.state.selectedAlbumID===null?m:r},b("React").createElement(l,{className:"_4brf",value:m},b("React").createElement(b("XUIText.react"),{display:"block",size:"header4",weight:"normal"},h._("Create a new album"))),f&&b("React").createElement(l,{value:r},b("React").createElement(b("XUIText.react"),{display:"block",size:"header4",weight:"normal"},h._("Add to an existing album")))),b("React").createElement(b("ScrollableArea.react"),{className:"_3-8y",height:360},b("PagesRelayMigrationConfig").shouldUseRelayCompat?b("React").createElement(k,{environment:b("RelayFBEnvironment"),query:j||(j={modern:function(){return b("PagePhotosTabAddPhotosDialogQuery.graphql")},classic:function(a){var c=b("PagePhotosTabAlbumsViewRelayCompat.react").getFragment("page");return{kind:"OperationDefinition",argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"pageID"}],name:"PagePhotosTabAddPhotosDialogQuery",operation:"query",node:function(){return{children:[{calls:[{kind:"Call",metadata:{},name:"id",value:{kind:"CallVariable",callVariableName:"pageID"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},a.__frag(c)]),fieldName:"page",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Page"}],directives:[{kind:"Directive",name:"fb_owner",args:[{name:"oncall",value:{kind:"CallValue",callValue:"pages_consumer_experience_www"}}]}],id:a.__id(),kind:"Fragment",metadata:{},name:"PagePhotosTabAddPhotosDialogQuery",type:"Query"}}()}}}),render:function(a){a.error;a=a.props;return a?b("React").createElement(b("PagePhotosTabAlbumsViewRelayCompat.react"),{albums_num_each_load_more:o,albums_num_first_load:p,can_upload:!0,on_album_click:this.$1,page:a.page,page_id:c,selecting_album:this.state.selectedAlbumID!==null,show_create_album_grid:!1,show_header:!1}):b("React").createElement("div",null)}.bind(this),variables:a}):b("React").createElement(b("react-relay/classic/container/RelayRootContainer"),{Component:b("PagePhotosTabAlbumsView.react"),route:d}))),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogCancelButton.react"),{className:"_3rix"}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",ajaxify:e,href:"#",label:h._("Continue"),rel:"async-post",ref:"addPhotosConfirmButtonID",use:"confirm"})))};e.exports=c(a,{page:{modern:function(){return b("PagePhotosTabAddPhotosDialog_page.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[{defaultValue:4,kind:"LocalArgument",name:"count"}],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallVariable",callVariableName:"count"}}],children:[{children:[{children:[{fieldName:"can_upload",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Album"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"PageAlbumsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"page_albums",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"PageAlbumsConnection"}],id:a.__id(),kind:"Fragment",metadata:{},name:"PagePhotosTabAddPhotosDialog_page",type:"Page"}}()}}}})}),null);
__d("PagePhotosTabEmptySection.react",["cx","fbt","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_31iy"},b("React").createElement(b("XUIGrayText.react"),{shade:"light"},this.props.canViewerEdit?h._("No photos yet. Add photos?"):h._("No photos to show")))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PagePhotosTabAllPhotosView.react",["ix","cx","fbt","Image.react","LeftRight.react","Link.react","PagePhotosTabAddPhotosDialog.react","PagePhotosTabAllPhotosGrid.react","PagePhotosTabEmptySection.react","PagesProfileTestIDs","React","ReactDOM","RelayClassic_DEPRECATED","XUICard.react","XUIGrayText.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={addPhotosDialogShown:!1},this.$1=null,this.$2=function(a){this.$1=a}.bind(this),this.$4=function(){this.setState(function(a,b){return{addPhotosDialogShown:!a.addPhotosDialogShown}});var a=b("ReactDOM").findDOMNode(this.$1);a&&a instanceof HTMLElement&&a.focus()}.bind(this),c}a.prototype.render=function(){var a;a=(a=this.props.page)!=null?(a=a.posted_photos)!=null?a.count:a:a;if((!a||a===0)&&!this.$3())return b("React").createElement(b("PagePhotosTabEmptySection.react"),{canViewerEdit:!1});var c=null;this.state.addPhotosDialogShown&&(c=b("React").createElement(b("PagePhotosTabAddPhotosDialog.react"),babelHelpers["extends"]({},this.props,{onToggle:this.$4})));return b("React").createElement(b("XUICard.react"),{className:"_2y_h"},this.$5(),a===0?b("React").createElement(b("PagePhotosTabEmptySection.react"),{canViewerEdit:!0}):b("React").createElement(b("PagePhotosTabAllPhotosGrid.react"),{page:this.props.page}),c)};a.prototype.$3=function(){var a;a=(a=this.props.page)!=null?a.viewer_profile_permissions:a;return a!==undefined&&a!==null&&a.includes("CREATE_CONTENT")};a.prototype.$5=function(){var a=b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"medium",size:"header3","data-testid":b("PagesProfileTestIDs").ALL_PHOTOS},i._("All Photos"));if(this.$3()){var c=b("React").createElement(b("Link.react"),{href:"#",onClick:function(){return this.setState({addPhotosDialogShown:!0})}.bind(this),ref:this.$2,role:"button"},b("React").createElement(b("Image.react"),{className:"_390_",src:g("138551")}),b("React").createElement(b("XUIText.react"),{className:"_3910 _2pis",shade:"medium",size:"header4","data-testid":b("PagesProfileTestIDs").ADD_PHOTOS},i._("Add Photos")));a=b("React").createElement(b("LeftRight.react"),null,a,c)}return b("React").createElement("div",{className:"_2pio _2pib _2pif"},a)};d=b("RelayClassic_DEPRECATED").createContainer(a,{fragments:{page:function(){return function(a,c){return{children:[].concat.apply([],[{fieldName:"viewer_profile_permissions",kind:"Field",metadata:{isPlural:!0},type:"String"},{children:[{fieldName:"count",kind:"Field",metadata:{},type:"Int"}],fieldName:"posted_photos",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"PostedPhotosConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("RelayClassic_DEPRECATED").QL.__frag(a),b("RelayClassic_DEPRECATED").QL.__frag(c)]),id:b("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"PagePhotosTabAllPhotosView_PageRelayQL",type:"Page"}}(b("PagePhotosTabAddPhotosDialog.react").getFragment("page"),b("PagePhotosTabAllPhotosGrid.react").getFragment("page"))}}});d.moduleName="PagePhotosTabAllPhotosView.react";e.exports=d}),null);